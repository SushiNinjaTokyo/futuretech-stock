<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>futuretech-stock — Daily Top 10 (2025-09-07)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- 分離したCSS -->
  <link rel="stylesheet" href="/assets/daily.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <h1>futuretech-stock — Daily Top 10</h1>
      <div class="sub">Date: 2025-09-07 / Scoring: 1000 pts（volume + insider + trends + news）</div>
    </header>

    <div class="grid" id="cards">


        <div class="card" id="card-1" data-symbol="SOUN">
          <div class="row">
            <div class="left">
                <div class="rank-rocket rank1" aria-label="Rank 1">
                  <!-- rocket SVG -->
                  <svg class="rocket" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path d="M12 3c3 0 6 3.2 6 6.8 0 1.4-.4 2.8-1.1 4l-2.4 4c-.3.6-.9 1-1.6 1h-2.8c-.7 0-1.3-.4-1.6-1l-2.4-4A8.2 8.2 0 0 1 6 9.8C6 6.2 9 3 12 3Z" fill="#ffffff"/>
                    <circle cx="12" cy="9.4" r="2.1" fill="#94a3b8"/>
                    <path d="M7.8 13.5l2.1 3.5H7.6a1 1 0 0 1-.9-1.4l1.1-2.1z" fill="#cbd5e1"/>
                    <path d="M16.2 13.5l-2.1 3.5h2.3c.8 0 1.3-.9.9-1.6l-1.1-1.9z" fill="#cbd5e1"/>
                    <path class="flame" d="M11.2 20.5c-.8-1.2.6-2.4.8-2.9.2.5 1.6 1.7.8 2.9-.5.8-1.9.8-2.4 0z" fill="#f97316"/>
                  </svg>
                </div>

              <div class="id-block">
                <div class="symbol">SOUN</div>
<div class="name">SoundHound AI, Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">794</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch up"><span class="k">1D</span><span class="delta">+7.30%</span></div>
            <div class="pch up"><span class="k">1W</span><span class="delta">+13.81%</span></div>
            <div class="pch up"><span class="k">1M</span><span class="delta">+33.02%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-1"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-1"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-1" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">794</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.40</div>
                    <div><span class="k">Z60</span><br>1.71</div>
                    <div><span class="k">PctRank90</span><br>0.97</div>
                    <div><span class="k">DollarVol</span><br>$1360.6M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-1" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/SOUN.png" alt="SOUN weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.793806, "insider_momo": 0.631578947368, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.631578947368, "news": 1.0, "trends_breakout": 0.842105263158, "volume_anomaly": 0.7331181302866098}, "score_pts": 794, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "SOUN", "trends_breakout": 0.842105263158, "vol_anomaly_score": 0.7331181302866098}
          </script>
        </div>


        <div class="card" id="card-2" data-symbol="GDRX">
          <div class="row">
            <div class="left">
                <div class="rank-rocket rank2" aria-label="Rank 2">
                  <!-- rocket SVG -->
                  <svg class="rocket" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path d="M12 3c3 0 6 3.2 6 6.8 0 1.4-.4 2.8-1.1 4l-2.4 4c-.3.6-.9 1-1.6 1h-2.8c-.7 0-1.3-.4-1.6-1l-2.4-4A8.2 8.2 0 0 1 6 9.8C6 6.2 9 3 12 3Z" fill="#ffffff"/>
                    <circle cx="12" cy="9.4" r="2.1" fill="#94a3b8"/>
                    <path d="M7.8 13.5l2.1 3.5H7.6a1 1 0 0 1-.9-1.4l1.1-2.1z" fill="#cbd5e1"/>
                    <path d="M16.2 13.5l-2.1 3.5h2.3c.8 0 1.3-.9.9-1.6l-1.1-1.9z" fill="#cbd5e1"/>
                    <path class="flame" d="M11.2 20.5c-.8-1.2.6-2.4.8-2.9.2.5 1.6 1.7.8 2.9-.5.8-1.9.8-2.4 0z" fill="#f97316"/>
                  </svg>
                </div>

              <div class="id-block">
                <div class="symbol">GDRX</div>
<div class="name">GoodRx Holdings, Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">776</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-6.54%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-8.26%</span></div>
            <div class="pch up"><span class="k">1M</span><span class="delta">+15.27%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-2"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-2"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-2" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">776</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>0.94</div>
                    <div><span class="k">Z60</span><br>1.57</div>
                    <div><span class="k">PctRank90</span><br>0.94</div>
                    <div><span class="k">DollarVol</span><br>$23.0M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-2" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/GDRX.png" alt="GDRX weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.7764, "insider_momo": 1.0, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 1.0, "news": 1.0, "trends_breakout": 0.526315789474, "volume_anomaly": 0.6740228075236556}, "score_pts": 776, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "GDRX", "trends_breakout": 0.526315789474, "vol_anomaly_score": 0.6740228075236556}
          </script>
        </div>


        <div class="card" id="card-3" data-symbol="PLTR">
          <div class="row">
            <div class="left">
                <div class="rank-rocket rank3" aria-label="Rank 3">
                  <!-- rocket SVG -->
                  <svg class="rocket" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path d="M12 3c3 0 6 3.2 6 6.8 0 1.4-.4 2.8-1.1 4l-2.4 4c-.3.6-.9 1-1.6 1h-2.8c-.7 0-1.3-.4-1.6-1l-2.4-4A8.2 8.2 0 0 1 6 9.8C6 6.2 9 3 12 3Z" fill="#ffffff"/>
                    <circle cx="12" cy="9.4" r="2.1" fill="#94a3b8"/>
                    <path d="M7.8 13.5l2.1 3.5H7.6a1 1 0 0 1-.9-1.4l1.1-2.1z" fill="#cbd5e1"/>
                    <path d="M16.2 13.5l-2.1 3.5h2.3c.8 0 1.3-.9.9-1.6l-1.1-1.9z" fill="#cbd5e1"/>
                    <path class="flame" d="M11.2 20.5c-.8-1.2.6-2.4.8-2.9.2.5 1.6 1.7.8 2.9-.5.8-1.9.8-2.4 0z" fill="#f97316"/>
                  </svg>
                </div>

              <div class="id-block">
                <div class="symbol">PLTR</div>
<div class="name">Palantir Technologies Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">768</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-1.94%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-3.17%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-15.97%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-3"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-3"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-3" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">768</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.04</div>
                    <div><span class="k">Z60</span><br>0.55</div>
                    <div><span class="k">PctRank90</span><br>0.72</div>
                    <div><span class="k">DollarVol</span><br>$12510.0M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-3" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/PLTR.png" alt="PLTR weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.767925, "insider_momo": 0.894736842105, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.894736842105, "news": 1.0, "trends_breakout": 0.684210526316, "volume_anomaly": 0.5559103853653173}, "score_pts": 768, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "PLTR", "trends_breakout": 0.684210526316, "vol_anomaly_score": 0.5559103853653173}
          </script>
        </div>


        <div class="card" id="card-4" data-symbol="INOD">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 4">4</div>

              <div class="id-block">
                <div class="symbol">INOD</div>
<div class="name">Innodata Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">760</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch up"><span class="k">1D</span><span class="delta">+5.79%</span></div>
            <div class="pch up"><span class="k">1W</span><span class="delta">+10.05%</span></div>
            <div class="pch up"><span class="k">1M</span><span class="delta">+1.52%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-4"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-4"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-4" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">760</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.62</div>
                    <div><span class="k">Z60</span><br>0.65</div>
                    <div><span class="k">PctRank90</span><br>0.73</div>
                    <div><span class="k">DollarVol</span><br>$127.1M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-4" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/INOD.png" alt="INOD weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.760083, "insider_momo": 0.736842105263, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.736842105263, "news": 1.0, "trends_breakout": 0.736842105263, "volume_anomaly": 0.619277699226498}, "score_pts": 760, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "INOD", "trends_breakout": 0.736842105263, "vol_anomaly_score": 0.619277699226498}
          </script>
        </div>


        <div class="card" id="card-5" data-symbol="NVDA">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 5">5</div>

              <div class="id-block">
                <div class="symbol">NVDA</div>
<div class="name">NVIDIA Corporation</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">686</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-2.70%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-7.30%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-7.61%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-5"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-5"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-5" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">686</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.28</div>
                    <div><span class="k">Z60</span><br>1.34</div>
                    <div><span class="k">PctRank90</span><br>0.84</div>
                    <div><span class="k">DollarVol</span><br>$37411.0M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-5" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/NVDA.png" alt="NVDA weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.685838, "insider_momo": 0.526315789474, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.526315789474, "news": 1.0, "trends_breakout": 0.631578947368, "volume_anomaly": 0.6591418788535581}, "score_pts": 686, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "NVDA", "trends_breakout": 0.631578947368, "vol_anomaly_score": 0.6591418788535581}
          </script>
        </div>


        <div class="card" id="card-6" data-symbol="MNDY">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 6">6</div>

              <div class="id-block">
                <div class="symbol">MNDY</div>
<div class="name">Monday.com Ltd.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">682</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch up"><span class="k">1D</span><span class="delta">+1.81%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-1.99%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-24.93%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-6"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-6"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-6" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">682</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>0.46</div>
                    <div><span class="k">Z60</span><br>0.37</div>
                    <div><span class="k">PctRank90</span><br>0.57</div>
                    <div><span class="k">DollarVol</span><br>$177.6M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-6" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/MNDY.png" alt="MNDY weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.681691, "insider_momo": 0.315789473684, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.315789473684, "news": 1.0, "trends_breakout": 1.0, "volume_anomaly": 0.4109764374953299}, "score_pts": 682, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "MNDY", "trends_breakout": 1.0, "vol_anomaly_score": 0.4109764374953299}
          </script>
        </div>


        <div class="card" id="card-7" data-symbol="PERF">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 7">7</div>

              <div class="id-block">
                <div class="symbol">PERF</div>
<div class="name">Perfect Corp.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">663</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-1.03%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-7.69%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-1.03%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-7"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-7"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-7" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">663</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.21</div>
                    <div><span class="k">Z60</span><br>-0.16</div>
                    <div><span class="k">PctRank90</span><br>0.56</div>
                    <div><span class="k">DollarVol</span><br>$0.4M</div>
                    <div><span class="k">Eligible</span><br>No</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-7" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/PERF.png" alt="PERF weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.662691, "insider_momo": 0.684210526316, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.684210526316, "news": 1.0, "trends_breakout": 0.578947368421, "volume_anomaly": 0.47181684453447215}, "score_pts": 663, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "PERF", "trends_breakout": 0.578947368421, "vol_anomaly_score": 0.47181684453447215}
          </script>
        </div>


        <div class="card" id="card-8" data-symbol="MSFT">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 8">8</div>

              <div class="id-block">
                <div class="symbol">MSFT</div>
<div class="name">Microsoft Corporation</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">661</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-2.55%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-2.87%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-4.96%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-8"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-8"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-8" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">661</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.56</div>
                    <div><span class="k">Z60</span><br>1.84</div>
                    <div><span class="k">PctRank90</span><br>0.94</div>
                    <div><span class="k">DollarVol</span><br>$15826.0M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-8" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/MSFT.png" alt="MSFT weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.661337, "insider_momo": 0.789473684211, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.789473684211, "news": 1.0, "trends_breakout": 0.263157894737, "volume_anomaly": 0.7400854373162391}, "score_pts": 661, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "MSFT", "trends_breakout": 0.263157894737, "vol_anomaly_score": 0.7400854373162391}
          </script>
        </div>


        <div class="card" id="card-9" data-symbol="VSAT">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 9">9</div>

              <div class="id-block">
                <div class="symbol">VSAT</div>
<div class="name">Viasat, Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">655</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch down"><span class="k">1D</span><span class="delta">-1.50%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-8.85%</span></div>
            <div class="pch up"><span class="k">1M</span><span class="delta">+13.08%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-9"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-9"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-9" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">655</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>0.88</div>
                    <div><span class="k">Z60</span><br>0.15</div>
                    <div><span class="k">PctRank90</span><br>0.84</div>
                    <div><span class="k">DollarVol</span><br>$109.1M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-9" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/VSAT.png" alt="VSAT weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.65533, "insider_momo": 0.105263157895, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.105263157895, "news": 1.0, "trends_breakout": 0.947368421053, "volume_anomaly": 0.5792135517756744}, "score_pts": 655, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "VSAT", "trends_breakout": 0.947368421053, "vol_anomaly_score": 0.5792135517756744}
          </script>
        </div>


        <div class="card" id="card-10" data-symbol="ISRG">
          <div class="row">
            <div class="left">
                <div class="rank-badge" aria-label="Rank 10">10</div>

              <div class="id-block">
                <div class="symbol">ISRG</div>
<div class="name">Intuitive Surgical, Inc.</div>                <div class="medals"></div>
              </div>
            </div>

            <div class="score">
              <div class="num">653</div>
              <div class="den">/ 1000</div>
            </div>
          </div>

          <div class="price-row">
            <div class="pch up"><span class="k">1D</span><span class="delta">+2.71%</span></div>
            <div class="pch down"><span class="k">1W</span><span class="delta">-1.47%</span></div>
            <div class="pch down"><span class="k">1M</span><span class="delta">-0.63%</span></div>
          </div>

          <div class="tabs">
            <div class="seg" role="tablist" aria-label="Card sections">
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#ov-10"><span class="ico">🧭</span>Overview</button>
              <button class="segbtn" role="tab" aria-selected="false" aria-pressed="false"
                      data-target="#tech-10"><span class="ico">📈</span>Weekly chart</button>
            </div>

            <div id="ov-10" class="tab" role="tabpanel" aria-hidden="true">
              <table class="table js-breakdown">
                <thead>
                  <tr>
                    <th>Component</th>
                    <th class="right">Normalized</th>
                    <th class="right">Weight</th>
                    <th class="right">Contribution (pts)</th>
                  </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                  <tr>
                    <th colspan="3" class="right">Total</th>
                    <th class="right"><span class="js-total">653</span></th>
                  </tr>
                </tfoot>
              </table>

              <details>
                <summary>Volume anomaly details</summary>
                  <div class="kv">
                    <div><span class="k">RVOL20</span><br>1.27</div>
                    <div><span class="k">Z60</span><br>0.99</div>
                    <div><span class="k">PctRank90</span><br>0.86</div>
                    <div><span class="k">DollarVol</span><br>$1224.6M</div>
                    <div><span class="k">Eligible</span><br>Yes</div>
                  </div>
              </details>

              <details class="js-insider">
                <summary>Insider details (Form 4)</summary>
                <div class="muted">Loading…</div>
              </details>

              <div class="note">
                ※ Price changes: 1D = 前営業日比, 1W = 5営業日前比, 1M = 20営業日前比。<br/>
                ※ Trends: Google Trends の相対スコア（直近ウィンドウ基準）。News: 直近記事数×簡易センチメントを宇宙内パーセンタイル正規化。<br/>
                ※ Insider: 直近 Form 4 指標（スコア30/90など）を0–1へ縮約。
              </div>
            </div>

            <div id="tech-10" class="tab" role="tabpanel" aria-hidden="true">
              <img src="/charts/2025-09-07/ISRG.png" alt="ISRG weekly chart" class="chart" loading="lazy" />
            </div>
          </div>

          <!-- JSON payload（JS用） -->
          <script type="application/json" class="js-payload">
          {"final_score_0_1": 0.652871, "insider_momo": 0.210526315789, "news_recent_count": 0, "news_score": 1.0, "score_components": {"insider_momo": 0.210526315789, "news": 1.0, "trends_breakout": 0.789473684211, "volume_anomaly": 0.6535897185708417}, "score_pts": 653, "score_weights": {"insider_momo": 0.25, "news": 0.2, "trends_breakout": 0.3, "volume_anomaly": 0.25}, "symbol": "ISRG", "trends_breakout": 0.789473684211, "vol_anomaly_score": 0.6535897185708417}
          </script>
        </div>
    </div>
  </div>

  <script>
    /* ======= UI toggles ======= */
    function bindToggles(scope=document){
      scope.querySelectorAll(".card").forEach(card=>{
        const seg = card.querySelector(".seg");
        if(!seg) return;
        const buttons = [...seg.querySelectorAll(".segbtn")];
        const panels  = [...card.querySelectorAll(".tab")];

        function openPanel(btn){
          const sel   = btn.getAttribute("data-target");
          const panel = card.querySelector(sel);
          const isActive = panel.classList.contains("active");
          buttons.forEach(b=>{ b.setAttribute("aria-pressed","false"); b.setAttribute("aria-selected","false"); });
          panels.forEach(p=>{ p.classList.remove("active"); p.setAttribute("aria-hidden","true"); });
          if(!isActive){
            btn.setAttribute("aria-pressed","true");
            btn.setAttribute("aria-selected","true");
            panel.classList.add("active");
            panel.setAttribute("aria-hidden","false");
          }
        }
        buttons.forEach(btn=>{
          btn.addEventListener("click", ()=> openPanel(btn));
          btn.addEventListener("keydown",(e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); openPanel(btn);} });
        });
      });
    }

    /* ======= 内訳テーブル: エイリアス対応で重みを解決 ======= */
    function fillBreakdown(){
      const KEY_ALIASES = {
        dii: ['dii','insider','insider_momo','insiderMomentum'],
        news_coverage: ['news_coverage','news','newsScore'],
        price_vol_anom: ['price_vol_anom','vol_anomaly','volume_anomaly','volume','price_vol','rvol'],
        trends_breakout: ['trends_breakout','trends','trend','google_trends']
      };
      const canon = (k)=>{
        const nk = String(k||'').toLowerCase().replace(/\s+/g,'_');
        for(const [ck, arr] of Object.entries(KEY_ALIASES)){
          if(ck===nk || arr.some(a=>nk===String(a).toLowerCase())) return ck;
        }
        return nk; // 未知キーはそのまま扱う
      };

      document.querySelectorAll(".card").forEach(card=>{
        const payloadEl=card.querySelector(".js-payload");
        if(!payloadEl) return;
        let data={};
        try{ data=JSON.parse(payloadEl.textContent||"{}"); }catch(_){}
        const compsRaw=data.score_components||{};
        const weightsRaw=data.score_weights||{};

        // components を正規化
        const compsEntries = Object.entries(compsRaw)
          .filter(([k,v])=>v!==null && v!==undefined)
          .map(([k,v])=>[canon(k), Number(v)]);

        // weights を正規化し、同一キーが複数あれば合算
        const weightsMap = new Map();
        Object.entries(weightsRaw).forEach(([k,v])=>{
          const c = canon(k);
          const w = Math.max(0, Number(v)||0);
          weightsMap.set(c, (weightsMap.get(c)||0) + w);
        });

        // 正規化したキー列
        const keys = compsEntries.map(([k])=>k);
        const rawWsum = keys.reduce((s,k)=> s + (weightsMap.get(k)||0), 0);

        // すべて 0 の場合は等重みで可視化（バックエンドの合計とは一致しないが、情報ゼロ表示を回避）
        const wsum = rawWsum > 0 ? rawWsum : keys.length;

        const tbody=card.querySelector(".js-breakdown tbody");
        const totalEl=card.querySelector(".js-total");
        if(!tbody) return;
        tbody.innerHTML="";

        let totalPts=0;
        const pretty = (k)=>{
          if(k==='price_vol_anom') return 'price_vol_anom';
          if(k==='news_coverage') return 'News coverage';
          if(k==='trends_breakout') return 'Trends breakout';
          if(k==='dii') return 'dii';
          return k;
        };

        compsEntries.forEach(([k,v])=>{
          const wk = (weightsMap.get(k)|| (rawWsum>0?0:1)); // 等重み fallback
          const wn = wk / wsum;
          const vv = Math.max(0, Math.min(1, Number(v)||0));
          const pts = Math.round(vv * wn * 1000);
          totalPts += pts;
          const tr=document.createElement("tr");
          tr.innerHTML=`<td>${pretty(k)}</td>
                        <td class="right">${vv.toFixed(2)}</td>
                        <td class="right">${(wn*100).toFixed(0)}%</td>
                        <td class="right">${pts}</td>`;
          tbody.appendChild(tr);
        });

        if(totalEl && Number.isFinite(totalPts)) totalEl.textContent=String(totalPts);
      });
    }

    /* ======= Insider / Medals ======= */
    async function fillInsiderDetails(){
      try{
        const res=await fetch(`/data/insider/form4_latest.json`,{cache:"no-store"});
        if(!res.ok) throw new Error("fetch insider json failed");
        const j=await res.json();
        const items=j.items||{};
        document.querySelectorAll(".card").forEach(card=>{
          const sym=card.getAttribute("data-symbol");
          const box=card.querySelector(".js-insider");
          if(!box) return;
          const rec=items[sym];
          if(!rec){ box.innerHTML=`<summary>Insider details (Form 4)</summary><div class="muted">No data</div>`; return; }
          box.innerHTML=`<summary>Insider details (Form 4)</summary>
            <div class="kv">
              <div><span class="k">Net buy (30d)</span><br>${(rec.net_buy_shares_30||0).toLocaleString()} shares</div>
              <div><span class="k">Net buy (90d)</span><br>${(rec.net_buy_shares_90||0).toLocaleString()} shares</div>
              <div><span class="k">Unique buyers (30d)</span><br>${(rec.buyers_30||0)}</div>
              <div><span class="k">Unique buyers (90d)</span><br>${(rec.buyers_90||0)}</div>
              <div><span class="k">Score 30</span><br>${Number(rec.score_30||0).toFixed(2)}</div>
              <div><span class="k">Score 90</span><br>${Number(rec.score_90||0).toFixed(2)}</div>
            </div>`;
        });
      }catch(e){
        document.querySelectorAll(".js-insider").forEach(box=>{
          box.innerHTML=`<summary>Insider details (Form 4)</summary><div class="muted">Failed to load</div>`;
        });
      }
    }

    function decorateTop3Medals(){
      const cards=[...document.querySelectorAll(".card")].map(card=>{
        let data={};
        try{ data=JSON.parse(card.querySelector(".js-payload")?.textContent||"{}"); }catch(_){}
        return {
          card,
          symbol: card.getAttribute("data-symbol"),
          trends: Number(data.trends_breakout||0),
          news:   Number(data.news_score||0)
        };
      });
      const rankBy = (arr, key)=>
        [...arr].sort((a,b)=>Number(b[key])-Number(a[key]))
                .map((o,i)=>({...o,_rank:i+1}))
                .filter(o=>o[key]>0 && o._rank<=3);
      const tMap=new Map(rankBy(cards,"trends").map(o=>[o.symbol,o._rank]));
      const nMap=new Map(rankBy(cards,"news").map(o=>[o.symbol,o._rank]));
      const medalInfo = r => r===1?{cls:"gold",emoji:"🥇"}:r===2?{cls:"silver",emoji:"🥈"}:{cls:"bronze",emoji:"🥉"};
      cards.forEach(({card,symbol})=>{
        const box=card.querySelector(".medals"); if(!box) return;
        box.innerHTML="";
        const t=tMap.get(symbol); if(t){ const m=medalInfo(t); const el=document.createElement("span");
          el.className=`medal ${m.cls}`; el.title=`Trends Top #${t}`;
          el.innerHTML=`<span class="emoji">${m.emoji}</span><span class="label"><span class="kind">Trends</span></span>`;
          box.appendChild(el);
        }
        const n=nMap.get(symbol); if(n){ const m=medalInfo(n); const el=document.createElement("span");
          el.className=`medal ${m.cls}`; el.title=`News Top #${n}`;
          el.innerHTML=`<span class="emoji">${m.emoji}</span><span class="label"><span class="kind">News</span></span>`;
          box.appendChild(el);
        }
      });
    }

    // INIT
    bindToggles();
    fillBreakdown();
    fillInsiderDetails();
    decorateTop3Medals();
  </script>
</body>
</html>